<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<flow name="post-movieFlow" doc:id="5902d33c-1b7b-458d-8917-64946081d04d" >
		<logger level="INFO" doc:name="Logger" doc:id="ebee02f4-abfe-4879-9345-30be76e7f08c" message="Post request received"/>
		<ee:transform doc:name="Transform Message" doc:id="b58d444c-4e2a-421d-ada7-12020b71f5ec" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
  links: {
    self: "http://.../movies/1"
  },
  data: {
    "type": "movies",
    id: "1",
    attributes: {
      title: "The Terminator",
      description: "blah",
      year: 1977,
      duration: 102,
      languages: [
        "English"
      ],
      genres: [
        "Sci-Fi", 
        "Action"
      ],
      gross: 1234212.232,
      timestamps: {
        created: "2014-01-01T23:28:56.782Z",
        updated: "2014-01-01T23:28:56.782Z"
      }
    }
  }
}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
</mule>
